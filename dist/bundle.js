(()=>{"use strict";const e=()=>{window.unityInstance.Quit()};var n=parseInt(localStorage.getItem("instNum"))||0;const t=[4,6,8,10,12,14,16],o=[5,7,9,11,13,15];var i=!1,r="true"==localStorage.getItem("end");window.subID="not_set",window.session=parseInt(localStorage.getItem("session"))||0;const a=()=>{document.querySelector("#modal-reload").showModal(),document.querySelector("#modal-confirm").addEventListener("click",(()=>{localStorage.clear(),window.location.reload()})),document.querySelector("#modal-cancel").addEventListener("click",(()=>{document.querySelector("#modal-reload").close()}))};function s(){window.score=(()=>{let e=localStorage.getItem("score");return e?JSON.parse(e):[]})(),u(),document.getElementById("next-button").addEventListener("click",m),document.getElementById("prev-button").addEventListener("click",y),document.querySelector("#reload").addEventListener("click",a),r?window.endGame():0!=n&&f(n)}const l=()=>{d("introduction"),[...Array(window.session).keys()].forEach((e=>{try{d("block"+(e+1))}catch(e){console.log(e)}}))},c=e=>{document.querySelector("#"+e).classList.add("active-step")},d=e=>{document.querySelector("#"+e).classList.add("done-step")},u=()=>{window.subID=("prolificID",new URL(document.location).searchParams.get("prolificID")||"random-"+Math.floor(1e10*Math.random())),document.querySelector(".subID").innerHTML="id: "+window.subID},p=()=>{document.querySelector("#panel").style.display="none"},m=()=>{i||(g(),n++,f(n))},y=()=>{i||(g(),n--,f(n))},h=()=>{document.querySelector("#next-button").style.display="none",document.querySelector("#prev-button").style.display="none"},b=()=>{document.querySelector("#next-button").style.display="inline-flex",document.querySelector("#prev-button").style.display="inline-flex"},w=()=>{document.querySelector("#prev-button").style.display="none"},g=()=>{i=!0,setTimeout((()=>{i=!1}),300)},f=async e=>{e=parseInt(e),localStorage.setItem("instNum",e),0==e?(document.querySelector("#panel").innerHTML='\n  <div class="card-text">\n            \x3c!-- <h1>Welcome to this</h1><br> --\x3e\n            <h1>Welcome to our</h1><br><h1 style="color: var(--primary); font-weight: bolder;">experiment!</h1>\n            \x3c!-- <h1>Welcome to this <span style = "display: block; color: var(--primary)"> experiment!</span></h1> --\x3e\n            \x3c!-- <h1><b style="color: var(--primary)"> experiment!</b></h1> --\x3e\n        </div>\n            \x3c!-- <p>Some text here</p> --\x3e\n            <div class="card-img">\n              <img class="front-img" src="images/spaceship_illustration.png" alt="" loading="lazy">\n            </div>\n',document.querySelector("#panel").style.display="flex",document.querySelector("#prev-button").style.display="none",document.querySelector("#game").style.display="none",document.querySelector("#next-button").addEventListener("click",m)):1==e?(document.querySelector("#panel").innerHTML='\n\n<h2>Title of the study: BrainPlay</h2>\n<div class="scroll-div">\n    <h3>Information to the Participants</h3>\n\n    <p><strong>Procedure:</strong> For the purpose of our research, we will ask you for demographic\n        information as well as to complete some psychometric questionnaires and computer-based cognitive tasks.\n        Once you have consented, you will be guided through the study in a step-by-step manner, indicating the mean\n        duration of each task and its pay rate. You will then have the possibility of logging in and out as many times\n        as you wish to complete all tasks, as long as you do so within a period of 10 days since initial consent.</p>\n\n    <p>If you don’t follow the rules of conduct listed below, this will lead to your exclusion from the study. You will\n        still be paid for the part of the experiment you participated in.</p>\n\n    <p><strong>Rules of conduct:</strong></p>\n    <ul>\n        <li>- Follow the instructions</li>\n        <li>- Complete every task in the order and time period asked</li>\n    </ul>\n\n    <p>We want to remind you that participation in this study is voluntary. You may decline to answer any or all\n        questions. There are no negative consequences to you if you decide not to participate in this study. The data\n        collected will be treated the same way as other participants (further information below), and we will not take\n        into account your interruption for further experiments. You will be compensated for the part of the experiment\n        you participated in.</p>\n\n    <p>Finally, it is possible that in certain situations, it is necessary to end the experiment faster than initially\n        planned. The researcher himself will take this decision. You will still be paid for the part of the experiment\n        you participated in.</p>\n\n    <p><strong>Data Protection (Archiving/Data destruction):</strong> Risks to confidentiality for subjects who\n        complete studies online are prevented by Prolific user anonymization, which protects the personal information\n        about users by way of a secure server. No identifying information about Prolific users is revealed to us through\n        their participation, and we will not solicit personal information. The results of this research study may be\n        presented at scientific meetings or in publications; however, the data will be anonymous. Data collected in the\n        present study will be kept for 7 years after publication in order to be fully analyzed.</p>\n\n    <p>During the course of the study, inspections by authorities may take place to ensure that all relevant\n        regulations are applied. In such circumstances, the person in charge of the study may be requested to\n        communicate your data to meet the needs of these inspections.</p>\n\n    <p><strong>Access to the results of the research:</strong> If you wish to be informed of the results of this study,\n        you can contact by mail the person mentioned below. Only the general results of the study will be available. We\n        will not give individual results.</p>\n\n    <p><strong>If you have suffered any harm from the present study or simply want to be informed about the results of\n            this study, please contact:</strong></p>\n\n    <address>\n        Prof. Daphné Bavelier <br>\n        Faculté de psychologie, Uni Mail, <br>\n        Bvd du Pont d’Arve 40 <br>\n        1205 Genève; Switzerland\n    </address>\n</div>\n\n    <br>\n\x3c!-- CONSENT BOX --\x3e\n<div>\n    <label class="checkbox">\n      <input type="checkbox" required>\n      <span>\n      Given the information above, I fully agree to participate\n                freely and voluntarily in the research study, “Determinants of learning”.\n      </span>\n    </label>\n    <br>\n    <label class="checkbox">\n      <input type="checkbox"required>\n      <span>\n              I am aware that my data can be transmitted, for scientific purposes only, under anonymized format.\n      </span>\n    </label>\n    <br>\n    <br>\n    <label class="checkbox">\n      <input type="checkbox" required>\n      <span>\n            I am aware that I can withdraw from the study at any time, without having to give any explanation\n            and ask for the destruction of my personal information and/or collected data. <br>I understand that data \n            collected until the moment of my withdrawal will be used for scientific purposes only.\n      </span>\n      </label>\n    <br>\n    <br>\n    <label class="checkbox">\n    <input type="checkbox" required>\n      <span>\n            I understand that if I am below 18 years of age I cannot participate in this research. This consent\n            form does not release the organizers of the research from liability.<br> I am entitled to my full rights \n            as provided under the law.\n      </span>\n    </label>\n</div>\n',document.querySelector("#panel").style.display="block",b(),document.querySelector("#next-button").removeEventListener("click",m),document.querySelector("#next-button").addEventListener("click",(()=>{document.querySelectorAll("input").forEach((e=>e.reportValidity())),4==document.querySelectorAll("input:checked").length&&(document.querySelector("#next-button").addEventListener("click",m),m())})),document.querySelector("#game").style.display="none"):t.includes(e)?(l(),p(),h(),c("block"+(window.session+1)),d("introduction"),l(),(e=>{var n=document.querySelector("#unity-container"),t=document.querySelector("#unity-canvas"),o=document.querySelector("#unity-loading-bar"),i=document.querySelector("#unity-progress-bar-full"),r=document.querySelector("#unity-fullscreen-button"),a=document.querySelector("#unity-warning"),s="src/game/block/Build",l=s+"/"+e+".loader.js",c={dataUrl:s+`/${e}.data`,frameworkUrl:s+`/${e}.framework.js`,codeUrl:s+`/${e}.wasm`,streamingAssetsUrl:"StreamingAssets",companyName:"DefaultCompany",productName:"Space Shooter",productVersion:"1.0",showBanner:function(e,n){function t(){a.style.display=a.children.length?"block":"none"}var o=document.createElement("div");o.innerHTML=e,a.appendChild(o),"error"==n?o.style="background: red; padding: 10px;":("warning"==n&&(o.style="background: yellow; padding: 10px;"),setTimeout((function(){a.removeChild(o),t()}),5e3)),t()}};if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){var d=document.createElement("meta");d.name="viewport",d.content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes",document.getElementsByTagName("head")[0].appendChild(d),n.className="unity-mobile",t.className="unity-mobile"}o.style.display="block";var u=document.createElement("script");u.src=l,u.onload=()=>{createUnityInstance(t,c,(e=>{i.style.width=100*e+"%"})).then((e=>{window.unityInstance=e,o.style.display="none",r.onclick=()=>{e.SetFullscreen(1)}})).catch((e=>{alert(e)}))},document.body.appendChild(u),document.querySelector("#game").style.display="block",document.querySelector("progress").style.display="none"})("block")):o.includes(e)?(l(),document.querySelector("#panel").innerHTML='\n  <div class="card-text">\n            <h1>🚀 Well done!🚀 </h1>\n            <h2>You\'ve completed block {block_nb}!</h2>\n            <p>Take a break and relax for a moment. You can continue to the next block by clicking the arrow button below.</p>\n  <br>\n  <br>\n    <div class="admonition notice">\n        <p class="title">Prolific maximum completion time</p>\n        <p class="content">\n          Beware of the time you spend on this page. Prolific gives you a maximum of ~120 minutes to complete this submission. \n          This experiment is supposed to take ~30 minutes.\n        </p>\n      </div>\n  </div>\n  <div class="card-img" style="flex:auto">\n      <img class="front-img" src="images/rest_illustration.png" alt="" loading="lazy">\n  </div>\n'.replace("{block_nb}",""+window.session),document.querySelector("#panel").style.display="flex",w(),document.querySelector("#game").style.display="none",c("block"+(window.session+1))):e<=3?(document.querySelector("#panel").innerHTML='<progress style="width:35%; margin: auto"></progress>',document.querySelector("#panel").style.display="flex",document.querySelector("#panel").innerHTML=await(async e=>{const n=await fetch(e).then((e=>e.text()));let t=`<zero-md src="${e}">\n      <template data-merge="append">\n        <link rel="stylesheet" href="lib/css/admonition.css">\n        <style>\n          .markdown-body {\n            color: whitesmoke;\n            font-size: larger;\n            width: 85%; \n            /*margin-top: 10%;*/\n            margin: auto;\n          }\n          \n          strong {\n            color: #53dbc9;\n          }\n\n        </style>\n      </template>\n      </zero-md>`;if(e.includes("inst_8")&&(t=t.replace("width: 85%","width: 100%"),t=t.replace("margin: auto",""),t=t.replace("/*",""),t=t.replace("*/","")),n.includes("display=")){let e=n.split("display=")[1].split("---\x3e")[0];document.querySelector("#panel").style.display=e}return n.includes("admonition=")&&(t+=`${n.split("admonition=")[1].split("---\x3e")[0]}</div>`,n.split("admonition=").length>2&&(t+=`${n.split("admonition=")[2].split("---\x3e")[0]}`)),n.includes("video=")&&(t=t.replace("width: 85%",""),t='<div class="grid"><div class="s6">'+t,t+=`<div class="s6">\n      <div class="video-inst">\n      <video width="70%" height="100%" controls autoplay>\n        <source src="src/instructions/videos/${n.split("video=")[1].split("---\x3e")[0]}">\n        Your browser does not support the video tag.\n        </video>\n      </div>\n      </div>\n      </div>`),n.includes("image=")&&(t=t.replace("width: 85%",""),t='<div class="grid"><div class="s6">'+t,t+=`<div class="s6">\n      <div class="video-inst">\n      <img src="src/instructions/images/${n.split("image=")[1].split("---\x3e")[0]}" style="width: 80%">\n      </div>\n      </div>\n      </div>`),t})(`src/instructions/inst_${e-1}.md`),b(),(0==e||t.includes(e-1))&&w()):window.endGame()};window.endGame=()=>{try{e()}catch{console.log("quitUnityGame error: no game running")}localStorage.setItem("end",!0),h(),l(),c("end");let n=window.score.reduce(((e,n)=>e+n),0),t=(.004*n).toFixed(3);document.querySelector("#game").style.display="none",document.querySelector("#panel").style.display="flex",document.querySelector("#panel").innerHTML=`\n            <div class="center-align" style="margin: auto">\n            <h1 style="display: block">🚀Thank you!🚀</h1>\n            <h3>💰 You earned ${n} points = ${t} pounds! 💰</h3>\n            <br>\n            <br>\n            <p>Thank you for participating in our experiment!</p>\n            <p>Please click the button below to complete your submission.</p>\n            <br>\n            <button id="submit-button" class="btn btn-primary">Complete</button>\n            </div>\n    `,document.querySelector("#submit-button").addEventListener("click",(()=>{window.location.href=atob("aHR0cHM6Ly9hcHAucHJvbGlmaWMuY29tL3N1Ym1pc3Npb25zL2NvbXBsZXRlP2NjPUNKRllaSlk3")}))},window.endTrainingRL=()=>{e(),d("introduction"),d("training1"),d("training2"),c("experiment"),document.querySelector("#game").style.display="none",document.querySelector("#panel").style.display="flex",b(),f(n=7),w()},window.endTrainingPerceptual=()=>{if(e(),localStorage.setItem("score",JSON.stringify(window.score)),window.session++,localStorage.setItem("session",window.session),l(),6==window.session)return h(),void window.endGame();b(),n=o[window.session],f(n),w()},"loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s)})();