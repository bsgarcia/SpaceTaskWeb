(()=>{"use strict";var e=localStorage.getItem("instNum")||0,t=!1,n=localStorage.getItem("end");window.subID="not_set";const o=()=>{localStorage.clear(),window.location.reload()};function i(){l(),document.getElementById("next-button").addEventListener("click",a),document.getElementById("prev-button").addEventListener("click",d),document.querySelector("#reload").addEventListener("click",o),n?window.gameEnded():0!=e&&m(e)}const r=e=>{document.querySelector("#"+e).classList.add("active-step")},s=e=>{document.querySelector("#"+e).classList.add("done-step")},l=()=>{window.subID=("prolificID",new URL(document.location).searchParams.get("prolificID")||"random-"+Math.floor(1e10*Math.random())),document.querySelector(".subID").innerHTML="id: "+window.subID},a=()=>{t||(u(),e++,m(e))},d=()=>{t||(u(),e--,m(e))},c=()=>{document.querySelector("#next-button").style.display="none",document.querySelector("#prev-button").style.display="none"},u=()=>{t=!0,setTimeout((()=>{t=!1}),300)},m=async e=>{localStorage.setItem("instNum",e),0==e?(document.querySelector("#panel").innerHTML='\n  <div class="card-text">\n            \x3c!-- <h1>Welcome to this</h1><br> --\x3e\n            <h1>Welcome to our</h1><br><h1 style="color: var(--primary); font-weight: bolder;">experiment!</h1>\n            \x3c!-- <h1>Welcome to this <span style = "display: block; color: var(--primary)"> experiment!</span></h1> --\x3e\n            \x3c!-- <h1><b style="color: var(--primary)"> experiment!</b></h1> --\x3e\n        </div>\n            \x3c!-- <p>Some text here</p> --\x3e\n            <div class="card-img">\n              <img class="front-img" src="images/spaceship_illustration.png" alt="">\n            </div>\n',document.querySelector("#prev-button").style.display="none"):e>3?(document.querySelector("#panel").style.display="none",r("experiment"),s("introduction"),document.querySelector("#game").style.display="block",c()):(document.querySelector("#panel").innerHTML=await(async e=>{document.querySelector("#panel").innerHTML='<progress style="width:35%; margin: auto"></progress>';const t=await fetch(e).then((e=>e.text()));let n=`<zero-md src="${e}">\n      <template data-merge="append">\n        <link rel="stylesheet" href="lib/css/admonition.css">\n        <style>\n          .markdown-body {\n            color: whitesmoke;\n            font-size: larger;\n          }\n        </style>\n      </template>\n      </zero-md>`;if(t.includes("display=")){let e=t.split("display=")[1].split("---\x3e")[0];document.querySelector("#panel").style.display=e}return t.includes("admonition=")&&(n+=`${t.split("admonition=")[1].split("---\x3e")[0]}</div>`),t.includes("video=")&&(n='<div class="grid"><div class="s6">'+n,n+=`<div class="s6">\n      <div class="video-inst">\n      <video width="70%" height="100%" controls autoplay>\n        <source src="./instructions/videos/${t.split("video=")[1].split("---\x3e")[0]}">\n        Your browser does not support the video tag.\n        </video>\n      </div>\n      </div>\n      </div>`),n})(`./instructions/inst_${e}.md`),document.querySelector("#prev-button").style.display="inline-flex")};window.gameEnded=()=>{localStorage.setItem("end",!0),c(),s("introduction"),s("experiment"),r("survey"),document.querySelector("#game").style.display="none",document.querySelector("#panel").style.display="flex",document.querySelector("#panel").innerHTML='\n            <div class="center-align" style="margin: auto">\n            <h1 style="display: block">ðŸš€Thank you!ðŸš€</h1>\n            <br>\n            <br>\n            <p>Thank you for participating in our experiment!</p>\n            <p>Please click the button below and answer a few questions to complete your submission.</p>\n            <br>\n            <button id="submit-button" class="btn btn-primary">Survey</button>\n            </div>\n    '},"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i)})();